<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MindHub - Personal Workspace</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js for stock charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- SortableJS for drag and drop -->
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen">
  <!-- Header -->
  <header class="border-b bg-white sticky top-0 z-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-4">
        <div class="flex items-center space-x-2">
          <svg class="w-8 h-8 text-blue-600" viewBox="0 0 24 24" fill="currentColor">
            <path d="M11.344 17.031c-.616 0-1.109-.492-1.109-1.109V8.109c0-.616.493-1.109 1.109-1.109h1.312c.616 0 1.109.493 1.109 1.109v7.813c0 .617-.493 1.109-1.109 1.109h-1.312zm7.344-7.344c-.617 0-1.109-.492-1.109-1.109V1.109C17.578.493 18.071 0 18.688 0h1.312c.616 0 1.109.493 1.109 1.109v7.469c0 .617-.493 1.109-1.109 1.109h-1.312zm-14.688 0C3.493 9.687 3 9.195 3 8.578V1.109C3 .493 3.493 0 4.109 0h1.313c.616 0 1.109.493 1.109 1.109v7.469c0 .617-.493 1.109-1.109 1.109H4z"/>
            <path d="M22.781 24H1.219A1.22 1.22 0 0 1 0 22.781V12c0-.673.546-1.219 1.219-1.219h21.562C23.454 10.781 24 11.327 24 12v10.781c0 .673-.546 1.219-1.219 1.219zM2.438 22.125h19.124V13.5H2.438v8.625z"/>
          </svg>
          <span class="text-xl font-semibold">MindHub</span>
          <div class="relative">
            <input 
              type="text" 
              placeholder="Search..." 
              class="input w-64 pl-9"
            >
            <svg class="w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>
        <div class="flex items-center space-x-4">
          
          <button class="btn btn-secondary">Settings</button>
          <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium">JD</div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Container -->
  <div class="max-w-7xl mx-auto p-6">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
      
      <!-- Sidebar Navigation -->
      <div class="lg:col-span-2">
        <div class="card p-4 sticky top-24">
          <nav class="space-y-1">
            <div class="sidebar-item active" data-page="dashboard">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
              </svg>
              <span>Dashboard</span>
            </div>
            <div class="sidebar-item" data-page="documents">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
              <span>Documents</span>
            </div>
            <div class="sidebar-item" data-page="gallery">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
              </svg>
              <span>Gallery</span>
            </div>
            <div class="sidebar-item" data-page="stocks">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
              </svg>
              <span>Stocks</span>
            </div>
            <div class="sidebar-item" data-page="news">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9m0 0v12m0-12a2 2 0 012-2h2a2 2 0 012 2M9 9v12"></path>
              </svg>
              <span>News</span>
            </div>
            <div class="sidebar-item" data-page="notes">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
              </svg>
              <span>Notes</span>
            </div>
            <div class="sidebar-item" data-page="study-tracker">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
              </svg>
              <span>Study Tracker</span>
            </div>
          </nav>
        </div>
      </div>
      
      <!-- Main Content Area -->
      <div class="lg:col-span-10">
        <!-- Dashboard Page (Default) -->
        <div id="dashboard-page" class="page-content">
          <div class="mb-8">
            <h1 class="text-3xl font-semibold tracking-tight mb-2">Dashboard</h1>
            <p class="text-muted-foreground">Welcome to your personal workspace</p>
          </div>

          <!-- Quick Stats -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="card p-6">
              <div class="flex items-center">
                <div class="p-3 rounded-full bg-blue-100 text-blue-600 mr-4">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                </div>
                <div>
                  <p class="text-sm text-muted-foreground">Documents</p>
                  <p class="text-2xl font-semibold">24</p>
                </div>
              </div>
            </div>
            <div class="card p-6">
              <div class="flex items-center">
                <div class="p-3 rounded-full bg-green-100 text-green-600 mr-4">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                  </svg>
                </div>
                <div>
                  <p class="text-sm text-muted-foreground">Study Cards</p>
                  <p class="text-2xl font-semibold">7</p>
                </div>
              </div>
            </div>
            <div class="card p-6">
              <div class="flex items-center">
                <div class="p-3 rounded-full bg-purple-100 text-purple-600 mr-4">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                  </svg>
                </div>
                <div>
                  <p class="text-sm text-muted-foreground">Photos</p>
                  <p class="text-2xl font-semibold">42</p>
                </div>
              </div>
            </div>
            <div class="card p-6">
              <div class="flex items-center">
                <div class="p-3 rounded-full bg-yellow-100 text-yellow-600 mr-4">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                </div>
                <div>
                  <p class="text-sm text-muted-foreground">Quick Notes</p>
                  <p class="text-2xl font-semibold">15</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <div class="card p-6">
              <h2 class="text-xl font-semibold mb-4">Recent Documents</h2>
              <div class="space-y-4">
                <div class="flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg">
                  <div class="flex items-center">
                    <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 mr-3">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                      </svg>
                    </div>
                    <div>
                      <p class="font-medium">Project Proposal</p>
                      <p class="text-sm text-muted-foreground">Updated 2 hours ago</p>
                    </div>
                  </div>
                  <span class="badge">DOC</span>
                </div>
                <div class="flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg">
                  <div class="flex items-center">
                    <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600 mr-3">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                      </svg>
                    </div>
                    <div>
                      <p class="font-medium">Budget Report</p>
                      <p class="text-sm text-muted-foreground">Updated yesterday</p>
                    </div>
                  </div>
                  <span class="badge">XLS</span>
                </div>
                <div class="flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg">
                  <div class="flex items-center">
                    <div class="w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center text-red-600 mr-3">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                      </svg>
                    </div>
                    <div>
                      <p class="font-medium">Team Presentation</p>
                      <p class="text-sm text-muted-foreground">Updated 3 days ago</p>
                    </div>
                  </div>
                  <span class="badge">PPT</span>
                </div>
              </div>
            </div>

            <div class="card p-6">
              <h2 class="text-xl font-semibold mb-4">Study Progress</h2>
              <div class="space-y-4">
                <div>
                  <div class="flex justify-between text-sm mb-1">
                    <span>React Hooks</span>
                    <span>60%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-blue-600 h-2 rounded-full" style="width: 60%"></div>
                  </div>
                </div>
                <div>
                  <div class="flex justify-between text-sm mb-1">
                    <span>Node.js Backend</span>
                    <span>45%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-green-600 h-2 rounded-full" style="width: 45%"></div>
                  </div>
                </div>
                <div>
                  <div class="flex justify-between text-sm mb-1">
                    <span>TypeScript</span>
                    <span>75%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-purple-600 h-2 rounded-full" style="width: 75%"></div>
                  </div>
                </div>
                <div>
                  <div class="flex justify-between text-sm mb-1">
                    <span>CSS Layouts</span>
                    <span>20%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-yellow-600 h-2 rounded-full" style="width: 20%"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Documents Page -->
        <div id="documents-page" class="page-content hidden">
          <div class="mb-8">
            <h1 class="text-3xl font-semibold tracking-tight mb-2">Documents</h1>
            <p class="text-muted-foreground">Your Google Drive files and documents</p>
          </div>

          <!-- Search and Filters -->
          <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
            <div class="flex-1 max-w-md">
              <input 
                id="search"
                type="text" 
                placeholder="Search documents..."
                class="input w-full"
              />
            </div>
            <div class="flex space-x-2">
              <button class="btn btn-secondary flex items-center space-x-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                </svg>
                <span>Filter</span>
              </button>
              <button class="btn btn-secondary flex items-center space-x-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"></path>
                </svg>
                <span>Sort</span>
              </button>
            </div>
          </div>

          <!-- Documents Grid -->
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Document cards would be rendered here -->
            <div class="card p-4">
              <div class="flex items-start gap-3 mb-3">
                <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                </div>
                <div class="flex-1 min-w-0">
                  <h2 class="font-medium text-base truncate">Project Proposal.docx</h2>
                  <p class="text-xs text-muted-foreground mt-1">Document</p>
                </div>
              </div>
              <div class="flex flex-wrap gap-2 mb-3">
                <span class="badge">DOC</span>
              </div>
              <div class="flex items-center text-xs text-muted-foreground">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Modified: Nov 15, 2023
              </div>
            </div>
            
            <!-- More document cards... -->
          </div>
        </div>

        <!-- Gallery Page -->
        <div id="gallery-page" class="page-content hidden">
          <div class="mb-8">
            <h1 class="text-3xl font-semibold tracking-tight mb-2">Gallery</h1>
            <p class="text-muted-foreground">Your photos and images</p>
          </div>

          <div class="card p-6">
            <div class="flex justify-between items-center mb-6">
              <div>
                <h2 class="text-xl font-semibold">Memory Board</h2>
                <p class="text-muted-foreground mt-1">Your important moments</p>
              </div>
              <button class="btn btn-primary flex items-center space-x-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                </svg>
                <span>Add Photos</span>
              </button>
            </div>
            
            <div class="image-grid">
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Friends gathering">
              </div>
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1556761175-b413da4baf72?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Team meeting">
              </div>
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Workspace">
              </div>
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Conference">
              </div>
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1543269865-cbf427effbad?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Study group">
              </div>
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1541745537411-b8046dc6d66c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Team building">
              </div>
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1517048676732-d65bc937f952?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Project completion">
              </div>
              <div class="image-item">
                <img src="https://images.unsplash.com/photo-1521737711867-e3b97375f902?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Celebration">
              </div>
            </div>
          </div>
        </div>

        <!-- Stocks Page -->
        <div id="stocks-page" class="page-content hidden">
          <div class="mb-8">
            <h1 class="text-3xl font-semibold tracking-tight mb-2">Stocks</h1>
            <p class="text-muted-foreground">Your stock watchlist and market data</p>
          </div>

          <div class="card p-6">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-xl font-semibold">Stock Watchlist</h2>
              <button class="text-sm text-blue-600 hover:text-blue-800">Manage</button>
            </div>
            
            <div class="space-y-4">
              <div class="flex justify-between items-center">
                <div>
                  <div class="font-medium">BBCA</div>
                  <div class="text-sm text-muted-foreground">Bank Central Asia</div>
                </div>
                <div class="text-right">
                  <div class="font-medium">9,450</div>
                  <div class="text-sm stock-up">+1.25%</div>
                </div>
                <div class="w-16 h-8">
                  <!-- Stock chart would go here -->
                </div>
              </div>
              
              <!-- More stock items... -->
            </div>
          </div>
        </div>

        <!-- News Page -->
        <div id="news-page" class="page-content hidden">
          <div class="mb-8">
            <h1 class="text-3xl font-semibold tracking-tight mb-2">News</h1>
            <p class="text-muted-foreground">Latest news and updates</p>
          </div>

          <div class="card p-6">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-xl font-semibold">Latest News</h2>
              <div class="flex space-x-1">
                <button class="text-xs px-2 py-1 rounded bg-blue-100 text-blue-800">Tech</button>
                <button class="text-xs px-2 py-1 rounded hover:bg-gray-100">Finance</button>
                <button class="text-xs px-2 py-1 rounded hover:bg-gray-100">Indonesia</button>
              </div>
            </div>
            
            <div id="news-container" class="space-y-4 max-h-60 overflow-y-auto">
              <div class="news-item">
                <h3 class="font-medium text-sm">New AI Model Breaks Performance Records</h3>
                <p class="text-xs text-muted-foreground mt-1">TechCrunch â€¢ 2 hours ago</p>
              </div>
              <!-- More news items... -->
            </div>
          </div>
        </div>

        <!-- Notes Page -->
        <div id="notes-page" class="page-content hidden">
          <div class="mb-8">
            <h1 class="text-3xl font-semibold tracking-tight mb-2">Quick Notes</h1>
            <p class="text-muted-foreground">Your quick notes and thoughts</p>
          </div>

          <div class="card p-6">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-xl font-semibold">Quick Notes</h2>
              <button class="text-sm text-blue-600 hover:text-blue-800">View All</button>
            </div>
            <p class="text-sm text-muted-foreground mb-4">Jot down quick thoughts and ideas</p>
            
            <div class="mb-4">
              <textarea 
                id="note-input"
                placeholder="What's on your mind?"
                class="input w-full h-24 resize-none"
              ></textarea>
              <div class="flex justify-end mt-2">
                <button id="add-note" class="btn btn-primary text-sm">Add Note</button>
              </div>
            </div>
            
            <div id="notes-container" class="space-y-3 max-h-60 overflow-y-auto">
              <div class="note-item">
                <p class="text-sm">Remember to finish the quarterly report by Friday</p>
                <p class="text-xs text-muted-foreground mt-1">Today, 10:30 AM</p>
              </div>
              <!-- More notes... -->
            </div>
          </div>
        </div>

        <!-- Study Tracker Page -->
        <div id="study-tracker-page" class="page-content hidden">
          <div class="flex justify-between items-center mb-6">
            <div>
              <h1 class="text-3xl font-semibold tracking-tight">Study Tracker</h1>
              <p class="text-muted-foreground mt-1">Track your learning progress with kanban boards</p>
            </div>
            <div class="flex space-x-2">
              <div class="relative">
                <input 
                  id="study-search"
                  type="text" 
                  placeholder="Search study cards..."
                  class="input w-64 pl-9"
                >
                <svg class="w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
              </div>
              <button id="filter-study-btn" class="btn btn-secondary flex items-center space-x-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                </svg>
                <span>Filter</span>
              </button>
              <button id="add-study-card-btn" class="btn btn-primary flex items-center space-x-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                </svg>
                <span>Add Card</span>
              </button>
            </div>
          </div>

          <!-- Kanban Board -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            <!-- Planned Column -->
            <div class="kanban-column">
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold">Planned</h3>
                <span class="status-badge status-planned" id="planned-count">2</span>
              </div>
              <div id="planned-column" class="study-column">
                <!-- Study cards will be added here -->
              </div>
            </div>

            <!-- In Progress Column -->
            <div class="kanban-column">
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold">In Progress</h3>
                <span class="status-badge status-in-progress" id="in-progress-count">3</span>
              </div>
              <div id="in-progress-column" class="study-column">
                <!-- Study cards will be added here -->
              </div>
            </div>

            <!-- Reviewing Column -->
            <div class="kanban-column">
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold">Reviewing</h3>
                <span class="status-badge status-reviewing" id="reviewing-count">1</span>
              </div>
              <div id="reviewing-column" class="study-column">
                <!-- Study cards will be added here -->
              </div>
            </div>

            <!-- Completed Column -->
            <div class="kanban-column">
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold">Completed</h3>
                <span class="status-badge status-completed" id="completed-count">1</span>
              </div>
              <div id="completed-column" class="study-column">
                <!-- Study cards will be added here -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Study Card Modal -->
  <div id="add-study-card-modal" class="modal-overlay hidden">
    <div class="modal-content p-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold">Add New Study Card</h3>
        <button id="close-add-modal" class="text-gray-500 hover:text-gray-700">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">Title</label>
          <input type="text" id="study-card-title" class="input w-full" placeholder="Enter study topic">
        </div>
        <div class="flex justify-end space-x-2">
          <button id="cancel-add-study" class="btn btn-secondary">Cancel</button>
          <button id="save-study-card" class="btn btn-primary">Add Card</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Study Card Detail Modal -->
  <div id="study-card-detail-modal" class="modal-overlay hidden">
    <div class="modal-content p-6 w-full max-w-3xl">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold" id="detail-modal-title">Study Card Details</h3>
        <button id="close-detail-modal" class="text-gray-500 hover:text-gray-700">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      
      <div class="space-y-6">
        <!-- Title and Status -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="md:col-span-2">
            <label class="block text-sm font-medium mb-1">Title</label>
            <input type="text" id="detail-title" class="input w-full">
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Status</label>
            <select id="detail-status" class="input w-full">
              <option value="planned">Planned</option>
              <option value="in-progress">In Progress</option>
              <option value="reviewing">Reviewing</option>
              <option value="completed">Completed</option>
            </select>
          </div>
        </div>
        
        <!-- Description -->
        <div>
          <label class="block text-sm font-medium mb-1">Description</label>
          <textarea id="detail-description" class="input w-full h-24" placeholder="Add a description..."></textarea>
        </div>
        
        <!-- Checklist -->
        <div>
          <div class="flex justify-between items-center mb-2">
            <label class="block text-sm font-medium">Checklist / Milestones</label>
            <button id="add-checklist-item" class="text-xs text-blue-600 hover:text-blue-800">+ Add Item</button>
          </div>
          <div id="checklist-container" class="space-y-2">
            <!-- Checklist items will be added here -->
          </div>
        </div>
        
        <!-- Notes -->
        <div>
          <div class="flex justify-between items-center mb-2">
            <label class="block text-sm font-medium">Notes</label>
            <button id="add-note-item" class="text-xs text-blue-600 hover:text-blue-800">+ Add Note</button>
          </div>
          <div id="notes-container-detail" class="space-y-3">
            <!-- Notes will be added here -->
          </div>
        </div>
        
        <!-- Related Links -->
        <div>
          <div class="flex justify-between items-center mb-2">
            <label class="block text-sm font-medium">Related Links</label>
            <button id="add-link-item" class="text-xs text-blue-600 hover:text-blue-800">+ Add Link</button>
          </div>
          <div id="links-container" class="space-y-2">
            <!-- Links will be added here -->
          </div>
        </div>
        
        <!-- Tags -->
        <div>
          <label class="block text-sm font-medium mb-1">Tags</label>
          <div class="flex flex-wrap gap-2 mb-2" id="tags-container">
            <!-- Tags will be added here -->
          </div>
          <div class="flex">
            <input type="text" id="new-tag-input" class="input flex-1" placeholder="Add a tag...">
            <button id="add-tag-btn" class="btn btn-secondary ml-2">Add</button>
          </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="flex justify-between pt-4 border-t">
          <button id="delete-study-card" class="btn btn-secondary text-red-600 border-red-200 hover:bg-red-50">Delete Card</button>
          <div class="flex space-x-2">
            <button id="cancel-detail" class="btn btn-secondary">Cancel</button>
            <button id="save-study-details" class="btn btn-primary">Save Changes</button>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
// Study Tracker Data and Functionality
let studyCards = [
  {
    id: 1,
    title: "Learn React Hooks",
    status: "in-progress",
    description: "Master the use of React Hooks for state management and side effects",
    checklist: [
      { id: 1, text: "Learn useState", completed: true },
      { id: 2, text: "Learn useEffect", completed: true },
      { id: 3, text: "Learn useContext", completed: false },
      { id: 4, text: "Build a project with hooks", completed: false }
    ],
    notes: [
      { id: 1, text: "Hooks can only be called at the top level of components", date: "2023-11-10" },
      { id: 2, text: "Custom hooks allow reusing stateful logic", date: "2023-11-12" }
    ],
    links: [
      { id: 1, title: "React Hooks Documentation", url: "https://reactjs.org/docs/hooks-intro.html" }
    ],
    tags: ["react", "frontend", "javascript"],
    created_at: "2023-11-01",
    updated_at: "2023-11-15"
  },
  {
    id: 2,
    title: "Advanced CSS Layouts",
    status: "planned",
    description: "Deep dive into CSS Grid and Flexbox for complex layouts",
    checklist: [
      { id: 1, text: "Master CSS Grid", completed: false },
      { id: 2, text: "Master Flexbox", completed: false },
      { id: 3, text: "Learn CSS Subgrid", completed: false }
    ],
    notes: [],
    links: [],
    tags: ["css", "frontend"],
    created_at: "2023-11-05",
    updated_at: "2023-11-05"
  },
  {
    id: 3,
    title: "Node.js Backend Development",
    status: "in-progress",
    description: "Build scalable server-side applications with Node.js",
    checklist: [
      { id: 1, text: "Learn Express.js framework", completed: true },
      { id: 2, text: "Connect to database", completed: true },
      { id: 3, text: "Implement authentication", completed: false },
      { id: 4, text: "Deploy to production", completed: false }
    ],
    notes: [
      { id: 1, text: "Middleware functions have access to request and response objects", date: "2023-11-08" }
    ],
    links: [
      { id: 1, title: "Node.js Documentation", url: "https://nodejs.org/en/docs/" },
      { id: 2, title: "Express.js Guide", url: "https://expressjs.com/en/guide/routing.html" }
    ],
    tags: ["nodejs", "backend", "javascript"],
    created_at: "2023-10-28",
    updated_at: "2023-11-14"
  },
  {
    id: 4,
    title: "TypeScript Fundamentals",
    status: "reviewing",
    description: "Learn TypeScript for type-safe JavaScript development",
    checklist: [
      { id: 1, text: "Understand basic types", completed: true },
      { id: 2, text: "Learn interfaces and types", completed: true },
      { id: 3, text: "Practice with generics", completed: true },
      { id: 4, text: "Convert a JS project to TS", completed: false }
    ],
    notes: [
      { id: 1, text: "TypeScript helps catch errors during development", date: "2023-11-03" },
      { id: 2, text: "Interfaces can be extended, types can use unions", date: "2023-11-07" }
    ],
    links: [
      { id: 1, title: "TypeScript Handbook", url: "https://www.typescriptlang.org/docs/handbook/intro.html" }
    ],
    tags: ["typescript", "javascript"],
    created_at: "2023-10-20",
    updated_at: "2023-11-13"
  },
  {
    id: 5,
    title: "Python Data Analysis",
    status: "completed",
    description: "Use Python with Pandas and NumPy for data analysis",
    checklist: [
      { id: 1, text: "Learn Pandas basics", completed: true },
      { id: 2, text: "Master data cleaning techniques", completed: true },
      { id: 3, text: "Practice data visualization", completed: true },
      { id: 4, text: "Complete a data analysis project", completed: true }
    ],
    notes: [
      { id: 1, text: "Pandas DataFrames are powerful for tabular data", date: "2023-10-15" }
    ],
    links: [
      { id: 1, title: "Pandas Documentation", url: "https://pandas.pydata.org/docs/" }
    ],
    tags: ["python", "data-science"],
    created_at: "2023-09-10",
    updated_at: "2023-10-30"
  }
];

let nextId = 6;
let currentEditingCardId = null;

// Initialize Study Tracker
function initializeStudyTracker() {
  renderStudyCards();
  setupDragAndDrop();
  setupEventListeners();
  updateColumnCounts();
}

// Render study cards to the kanban board
function renderStudyCards() {
  // Clear all columns
  document.getElementById('planned-column').innerHTML = '';
  document.getElementById('in-progress-column').innerHTML = '';
  document.getElementById('reviewing-column').innerHTML = '';
  document.getElementById('completed-column').innerHTML = '';
  
  // Add cards to their respective columns
  studyCards.forEach(card => {
    const cardElement = createStudyCardElement(card);
    document.getElementById(`${card.status.replace(' ', '-')}-column`).appendChild(cardElement);
  });
}

// Create a study card element
function createStudyCardElement(card) {
  const cardElement = document.createElement('div');
  cardElement.className = 'study-card';
  cardElement.setAttribute('data-card-id', card.id);
  
  // Calculate completion percentage
  const totalItems = card.checklist.length;
  const completedItems = card.checklist.filter(item => item.completed).length;
  const completionPercentage = totalItems > 0 ? Math.round((completedItems / totalItems) * 100) : 0;
  
  // Format dates
  const createdDate = new Date(card.created_at).toLocaleDateString();
  const updatedDate = new Date(card.updated_at).toLocaleDateString();
  
  cardElement.innerHTML = `
    <div class="flex justify-between items-start mb-2">
      <h4 class="font-medium flex-1">${card.title}</h4>
      <span class="status-badge status-${card.status.replace(' ', '-')}">${card.status.charAt(0).toUpperCase() + card.status.slice(1)}</span>
    </div>
    <p class="text-sm text-gray-600 mb-2 line-clamp-2">${card.description || 'No description'}</p>
    <div class="flex items-center text-xs text-gray-500 mb-2">
      <span>${completedItems}/${totalItems} tasks</span>
      <div class="flex-1 bg-gray-200 rounded-full h-1 mx-2">
        <div class="bg-blue-600 h-1 rounded-full" style="width: ${completionPercentage}%"></div>
      </div>
      <span>${completionPercentage}%</span>
    </div>
    <div class="flex flex-wrap gap-1 mb-2">
      ${card.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
    </div>
    <div class="flex justify-between text-xs text-gray-500">
      <span>Created: ${createdDate}</span>
      <span>Updated: ${updatedDate}</span>
    </div>
  `;
  
  // Add click event to open detail modal
  cardElement.addEventListener('click', () => openStudyCardDetail(card.id));
  
  return cardElement;
}

// Setup drag and drop functionality
function setupDragAndDrop() {
  const columns = [
    'planned-column',
    'in-progress-column',
    'reviewing-column',
    'completed-column'
  ];
  
  columns.forEach(columnId => {
    new Sortable(document.getElementById(columnId), {
      group: 'study-cards',
      animation: 150,
      onEnd: function(evt) {
        const cardId = parseInt(evt.item.getAttribute('data-card-id'));
        const newStatus = columnId.split('-')[0];
        
        // Update card status
        updateCardStatus(cardId, newStatus);
      }
    });
  });
}

// Update card status when moved between columns
function updateCardStatus(cardId, newStatus) {
  const cardIndex = studyCards.findIndex(card => card.id === cardId);
  if (cardIndex !== -1) {
    studyCards[cardIndex].status = newStatus;
    studyCards[cardIndex].updated_at = new Date().toISOString().split('T')[0];
    updateColumnCounts();
    saveStudyCardsToStorage();
  }
}

// Update the count badges on each column
function updateColumnCounts() {
  const counts = {
    'planned': 0,
    'in-progress': 0,
    'reviewing': 0,
    'completed': 0
  };
  
  studyCards.forEach(card => {
    counts[card.status]++;
  });
  
  document.getElementById('planned-count').textContent = counts.planned;
  document.getElementById('in-progress-count').textContent = counts['in-progress'];
  document.getElementById('reviewing-count').textContent = counts.reviewing;
  document.getElementById('completed-count').textContent = counts.completed;
}

// Open study card detail modal
function openStudyCardDetail(cardId) {
  const card = studyCards.find(c => c.id === cardId);
  if (!card) return;
  
  currentEditingCardId = cardId;
  
  // Populate modal with card data
  document.getElementById('detail-modal-title').textContent = card.title;
  document.getElementById('detail-title').value = card.title;
  document.getElementById('detail-status').value = card.status;
  document.getElementById('detail-description').value = card.description || '';
  
  // Render checklist
  renderChecklistItems(card.checklist);
  
  // Render notes
  renderNotesItems(card.notes);
  
  // Render links
  renderLinkItems(card.links);
  
  // Render tags
  renderTagItems(card.tags);
  
  // Show modal
  document.getElementById('study-card-detail-modal').classList.remove('hidden');
}

// Render checklist items in detail modal
function renderChecklistItems(checklist) {
  const container = document.getElementById('checklist-container');
  container.innerHTML = '';
  
  checklist.forEach(item => {
    const itemElement = document.createElement('div');
    itemElement.className = 'checklist-item';
    itemElement.innerHTML = `
      <input type="checkbox" ${item.completed ? 'checked' : ''} data-item-id="${item.id}">
      <input type="text" class="input flex-1" value="${item.text}" data-item-id="${item.id}">
      <button class="text-red-500 ml-2 delete-checklist-item" data-item-id="${item.id}">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
        </svg>
      </button>
    `;
    container.appendChild(itemElement);
  });
}

// Render notes in detail modal
function renderNotesItems(notes) {
  const container = document.getElementById('notes-container-detail');
  container.innerHTML = '';
  
  notes.forEach(note => {
    const noteElement = document.createElement('div');
    noteElement.className = 'note-item';
    noteElement.innerHTML = `
      <textarea class="input w-full" rows="2" data-note-id="${note.id}">${note.text}</textarea>
      <div class="flex justify-between items-center mt-1">
        <span class="text-xs text-gray-500">${note.date}</span>
        <button class="text-xs text-red-500 delete-note-item" data-note-id="${note.id}">Delete</button>
      </div>
    `;
    container.appendChild(noteElement);
  });
}

// Render links in detail modal
function renderLinkItems(links) {
  const container = document.getElementById('links-container');
  container.innerHTML = '';
  
  links.forEach(link => {
    const linkElement = document.createElement('div');
    linkElement.className = 'flex items-center space-x-2';
    linkElement.innerHTML = `
      <input type="text" class="input flex-1" placeholder="Title" value="${link.title}" data-link-id="${link.id}">
      <input type="text" class="input flex-1" placeholder="URL" value="${link.url}" data-link-id="${link.id}">
      <button class="text-red-500 delete-link-item" data-link-id="${link.id}">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
        </svg>
      </button>
    `;
    container.appendChild(linkElement);
  });
}

// Render tags in detail modal
function renderTagItems(tags) {
  const container = document.getElementById('tags-container');
  container.innerHTML = '';
  
  tags.forEach(tag => {
    const tagElement = document.createElement('span');
    tagElement.className = 'tag';
    tagElement.innerHTML = `
      ${tag}
      <button class="ml-1 text-gray-500 delete-tag" data-tag="${tag}">
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    `;
    container.appendChild(tagElement);
  });
}

// Setup event listeners for study tracker
function setupEventListeners() {
  // Add Study Card Button
  document.getElementById('add-study-card-btn').addEventListener('click', () => {
    document.getElementById('add-study-card-modal').classList.remove('hidden');
  });
  
  // Close Add Modal
  document.getElementById('close-add-modal').addEventListener('click', closeAddModal);
  document.getElementById('cancel-add-study').addEventListener('click', closeAddModal);
  
  // Save New Study Card
  document.getElementById('save-study-card').addEventListener('click', addNewStudyCard);
  
  // Close Detail Modal
  document.getElementById('close-detail-modal').addEventListener('click', closeDetailModal);
  document.getElementById('cancel-detail').addEventListener('click', closeDetailModal);
  
  // Save Study Card Details
  document.getElementById('save-study-details').addEventListener('click', saveStudyCardDetails);
  
  // Delete Study Card
  document.getElementById('delete-study-card').addEventListener('click', deleteStudyCard);
  
  // Add Checklist Item
  document.getElementById('add-checklist-item').addEventListener('click', addChecklistItem);
  
  // Add Note Item
  document.getElementById('add-note-item').addEventListener('click', addNoteItem);
  
  // Add Link Item
  document.getElementById('add-link-item').addEventListener('click', addLinkItem);
  
  // Add Tag
  document.getElementById('add-tag-btn').addEventListener('click', addTag);
  
  // Search Study Cards
  document.getElementById('study-search').addEventListener('input', filterStudyCards);
}

// Close add modal
function closeAddModal() {
  document.getElementById('add-study-card-modal').classList.add('hidden');
  document.getElementById('study-card-title').value = '';
}

// Add new study card
function addNewStudyCard() {
  const title = document.getElementById('study-card-title').value.trim();
  
  if (title) {
    const newCard = {
      id: nextId++,
      title: title,
      status: 'planned',
      description: '',
      checklist: [],
      notes: [],
      links: [],
      tags: [],
      created_at: new Date().toISOString().split('T')[0],
      updated_at: new Date().toISOString().split('T')[0]
    };
    
    studyCards.push(newCard);
    renderStudyCards();
    updateColumnCounts();
    saveStudyCardsToStorage();
    closeAddModal();
  }
}

// Close detail modal
function closeDetailModal() {
  document.getElementById('study-card-detail-modal').classList.add('hidden');
  currentEditingCardId = null;
}

// Save study card details
function saveStudyCardDetails() {
  if (currentEditingCardId === null) return;
  
  const cardIndex = studyCards.findIndex(card => card.id === currentEditingCardId);
  if (cardIndex === -1) return;
  
  // Update basic info
  studyCards[cardIndex].title = document.getElementById('detail-title').value;
  studyCards[cardIndex].status = document.getElementById('detail-status').value;
  studyCards[cardIndex].description = document.getElementById('detail-description').value;
  studyCards[cardIndex].updated_at = new Date().toISOString().split('T')[0];
  
  // Update checklist
  const checklistInputs = document.querySelectorAll('#checklist-container input[type="text"]');
  studyCards[cardIndex].checklist = Array.from(checklistInputs).map(input => {
    const checkbox = document.querySelector(`input[type="checkbox"][data-item-id="${input.dataset.itemId}"]`);
    return {
      id: parseInt(input.dataset.itemId),
      text: input.value,
      completed: checkbox ? checkbox.checked : false
    };
  });
  
  // Update notes
  const noteTextareas = document.querySelectorAll('#notes-container-detail textarea');
  studyCards[cardIndex].notes = Array.from(noteTextareas).map(textarea => {
    return {
      id: parseInt(textarea.dataset.noteId),
      text: textarea.value,
      date: new Date().toISOString().split('T')[0] // Update date when modified
    };
  });
  
  // Update links
  const linkTitleInputs = document.querySelectorAll('#links-container input[type="text"]:first-child');
  studyCards[cardIndex].links = Array.from(linkTitleInputs).map(input => {
    const urlInput = document.querySelector(`input[type="text"][data-link-id="${input.dataset.linkId}"]:last-child`);
    return {
      id: parseInt(input.dataset.linkId),
      title: input.value,
      url: urlInput ? urlInput.value : ''
    };
  });
  
  // Update tags
  const tagElements = document.querySelectorAll('#tags-container .tag');
  studyCards[cardIndex].tags = Array.from(tagElements).map(tag => {
    return tag.textContent.trim().replace('Ã—', '');
  });
  
  renderStudyCards();
  updateColumnCounts();
  saveStudyCardsToStorage();
  closeDetailModal();
}

// Delete study card
function deleteStudyCard() {
  if (currentEditingCardId === null) return;
  
  if (confirm('Are you sure you want to delete this study card?')) {
    studyCards = studyCards.filter(card => card.id !== currentEditingCardId);
    renderStudyCards();
    updateColumnCounts();
    saveStudyCardsToStorage();
    closeDetailModal();
  }
}

// Add checklist item
function addChecklistItem() {
  const container = document.getElementById('checklist-container');
  const newId = Date.now(); // Simple ID generation
  
  const itemElement = document.createElement('div');
  itemElement.className = 'checklist-item';
  itemElement.innerHTML = `
    <input type="checkbox" data-item-id="${newId}">
    <input type="text" class="input flex-1" placeholder="New checklist item" data-item-id="${newId}">
    <button class="text-red-500 ml-2 delete-checklist-item" data-item-id="${newId}">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
      </svg>
    </button>
  `;
  container.appendChild(itemElement);
  
  // Add event listener to delete button
  itemElement.querySelector('.delete-checklist-item').addEventListener('click', function() {
    this.parentElement.remove();
  });
}

// Add note item
function addNoteItem() {
  const container = document.getElementById('notes-container-detail');
  const newId = Date.now();
  
  const noteElement = document.createElement('div');
  noteElement.className = 'note-item';
  noteElement.innerHTML = `
    <textarea class="input w-full" rows="2" placeholder="New note" data-note-id="${newId}"></textarea>
    <div class="flex justify-between items-center mt-1">
      <span class="text-xs text-gray-500">${new Date().toLocaleDateString()}</span>
      <button class="text-xs text-red-500 delete-note-item" data-note-id="${newId}">Delete</button>
    </div>
  `;
  container.appendChild(noteElement);
  
  // Add event listener to delete button
  noteElement.querySelector('.delete-note-item').addEventListener('click', function() {
    this.parentElement.parentElement.remove();
  });
}

// Add link item
function addLinkItem() {
  const container = document.getElementById('links-container');
  const newId = Date.now();
  
  const linkElement = document.createElement('div');
  linkElement.className = 'flex items-center space-x-2';
  linkElement.innerHTML = `
    <input type="text" class="input flex-1" placeholder="Title" data-link-id="${newId}">
    <input type="text" class="input flex-1" placeholder="URL" data-link-id="${newId}">
    <button class="text-red-500 delete-link-item" data-link-id="${newId}">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
      </svg>
    </button>
  `;
  container.appendChild(linkElement);
  
  // Add event listener to delete button
  linkElement.querySelector('.delete-link-item').addEventListener('click', function() {
    this.parentElement.remove();
  });
}

// Add tag
function addTag() {
  const input = document.getElementById('new-tag-input');
  const tagText = input.value.trim();
  
  if (tagText) {
    const container = document.getElementById('tags-container');
    
    const tagElement = document.createElement('span');
    tagElement.className = 'tag';
    tagElement.innerHTML = `
      ${tagText}
      <button class="ml-1 text-gray-500 delete-tag" data-tag="${tagText}">
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    `;
    container.appendChild(tagElement);
    
    // Add event listener to delete button
    tagElement.querySelector('.delete-tag').addEventListener('click', function() {
      this.parentElement.remove();
    });
    
    input.value = '';
  }
}

// Filter study cards based on search input
function filterStudyCards() {
  const searchTerm = document.getElementById('study-search').value.toLowerCase();
  
  if (searchTerm) {
    const filteredCards = studyCards.filter(card => 
      card.title.toLowerCase().includes(searchTerm) ||
      card.description.toLowerCase().includes(searchTerm) ||
      card.tags.some(tag => tag.toLowerCase().includes(searchTerm))
    );
    
    // Temporarily render filtered cards
    document.getElementById('planned-column').innerHTML = '';
    document.getElementById('in-progress-column').innerHTML = '';
    document.getElementById('reviewing-column').innerHTML = '';
    document.getElementById('completed-column').innerHTML = '';
    
    filteredCards.forEach(card => {
      const cardElement = createStudyCardElement(card);
      document.getElementById(`${card.status.replace(' ', '-')}-column`).appendChild(cardElement);
    });
  } else {
    // If no search term, render all cards
    renderStudyCards();
  }
}

// Save study cards to localStorage
function saveStudyCardsToStorage() {
  localStorage.setItem('studyCards', JSON.stringify(studyCards));
  localStorage.setItem('nextStudyCardId', nextId.toString());
}

// Load study cards from localStorage
function loadStudyCardsFromStorage() {
  const savedCards = localStorage.getItem('studyCards');
  const savedNextId = localStorage.getItem('nextStudyCardId');
  
  if (savedCards) {
    studyCards = JSON.parse(savedCards);
  }
  
  if (savedNextId) {
    nextId = parseInt(savedNextId);
  }
}

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
  // Load data from localStorage
  loadStudyCardsFromStorage();
  
  // Initialize Study Tracker
  initializeStudyTracker();
  
  // Set up page navigation
  document.querySelectorAll('.sidebar-item').forEach(item => {
    item.addEventListener('click', function() {
      const page = this.getAttribute('data-page');
      
      // Update active state
      document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
      this.classList.add('active');
      
      // Show the selected page
      document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
      document.getElementById(`${page}-page`).classList.remove('hidden');
    });
  });
  
  // Set Dashboard as the default active page
  document.querySelector('.sidebar-item[data-page="dashboard"]').classList.add('active');
  document.getElementById('dashboard-page').classList.remove('hidden');
});

document.querySelectorAll('.sidebar-item').forEach(item => {
  item.addEventListener('click', () => {
    const targetPage = item.dataset.page + "-page";

    // Remove active class from sidebar
    document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
    item.classList.add('active');

    // Hide all page contents
    document.querySelectorAll('.page-content').forEach(page => {
      page.classList.add('hidden');
    });

    // Show selected page
    const selectedPage = document.getElementById(targetPage);
    if (selectedPage) selectedPage.classList.remove('hidden');

    // OPTIONAL: if that page needs initialization, panggil functionnya
    if (targetPage === "study-tracker-page") {
      initializeStudyTracker();
    }
  });
});

</script>

</body>
</html>